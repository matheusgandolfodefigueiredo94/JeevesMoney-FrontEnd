<div class="login-container">

  <div class="tabs">
    <button (click)="isLoginMode = true" [class.active]="isLoginMode">Entrar</button>
    <button (click)="isLoginMode = false" [class.active]="!isLoginMode">Cadastrar</button>
  </div>

  <h2>{{ isLoginMode ? 'Login' : 'Criar Conta' }}</h2>

  <form (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="email">Email:</label>
      <input 
        type="email" 
        id="email" 
        [(ngModel)]="email" 
        name="email" 
        required>
    </div>
    <div class="form-group">
      <label for="password">Senha:</label>
      <input 
        type="password" 
        id="password" 
        [(ngModel)]="password" 
        name="password" 
        required>
    </div>

    <div *ngIf="errorMessage" class="error-message" role="alert">
      <i class="material-icons">error_outline</i>
      {{ errorMessage }}
    </div>
    <div *ngIf="successMessage" class="success-message" role="status">
      <i class="material-icons">check_circle_outline</i>
      {{ successMessage }}
    </div>
    <button type="submit" [disabled]="isLoading" [class.loading]="isLoading">
      <span>{{ isLoading ? 'Aguarde...' : (isLoginMode ? 'Entrar' : 'Cadastrar') }}</span>
      <span *ngIf="isLoading" class="loading-spinner"></span>
    </button>
  </form>
</div>

<style>
  .login-container { max-width: 400px; margin: 50px auto; padding: 20px; border: 1px solid #ccc; border-radius: 8px; }
  .form-group { margin-bottom: 15px; }
  .form-group label { display: block; margin-bottom: 5px; }
  .form-group input { width: 100%; padding: 8px; box-sizing: border-box; }
  .tabs { display: flex; margin-bottom: 20px; }
  .tabs button { flex: 1; padding: 10px; border: none; background: #f0f0f0; cursor: pointer; }
  .tabs button.active { background: #007bff; color: white; }
  .error-message { 
    color: #721c24; 
    background-color: #f8d7da; 
    border: 1px solid #f5c6cb; 
    padding: 10px; 
    border-radius: 4px; 
    margin-bottom: 15px; 
  }
  .success-message { 
    color: #155724; 
    background-color: #d4edda; 
    border: 1px solid #c3e6cb; 
    padding: 10px; 
    border-radius: 4px; 
    margin-bottom: 15px; 
  }
  button[type="submit"] {
    width: 100%;
    padding: 10px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  button[type="submit"]:disabled {
    background-color: #ccc;
    cursor: not-allowed;
    opacity: 0.7;
  }
  button[type="submit"].loading {
    position: relative;
    opacity: 0.8;
  }
  .error-message, .success-message {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .error-message .material-icons, .success-message .material-icons {
    font-size: 20px;
  }
  .loading-spinner {
    display: inline-block;
    width: 16px;
    height: 16px;
    margin-left: 8px;
    border: 2px solid rgba(255,255,255,0.3);
    border-radius: 50%;
    border-top-color: #fff;
    animation: spin 1s linear infinite;
    vertical-align: middle;
  }
  @keyframes spin {
    to { transform: rotate(360deg); }
  }
</style>